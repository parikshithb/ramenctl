{{define "content" -}}
<h2>Application Status</h2>

<section>
    <h3>Hub</h3>
    <section>
        <h4>DRPC</h4>
        {{- with .ApplicationStatus.Hub.DRPC}}
        <dl class="metadata">
            <dt>Name</dt>
            <dd>{{.Name}}</dd>
            <dt>Namespace</dt>
            <dd>{{.Namespace}}</dd>
            <dt>DRPolicy</dt>
            <dd>{{.DRPolicy}}</dd>
        </dl>
        <dl class="validation">
            <dt>Action</dt>
            <dd>
                <span class="value">{{.Action.Value}}</span>
                <span class="state">{{icon .Action.State}}</span>
                {{- if .Action.Description}}
                    <p class="description">{{.Action.Description}}</p>
                {{- end}}
            </dd>
            <dt>Phase</dt>
            <dd>
                <span class="value">{{.Phase.Value}}</span>
                <span class="state">{{icon .Phase.State}}</span>
                {{- if .Phase.Description}}
                    <p class="description">{{.Phase.Description}}</p>
                {{- end}}
            </dd>
            <dt>Progression</dt>
            <dd>
                <span class="value">{{.Progression.Value}}</span>
                <span class="state">{{icon .Progression.State}}</span>
                {{- if .Progression.Description}}
                    <p class="description">{{.Progression.Description}}</p>
                {{- end}}
            </dd>
            {{- if isProblem .Deleted.State}}
                <dt>Deleted</dt>
                <dd>
                    <span class="value">{{.Deleted.Value}}</span>
                    <span class="state">{{icon .Deleted.State}}</span>
                    {{- if .Deleted.Description}}
                        <p class="description">{{.Deleted.Description}}</p>
                    {{- end}}
                </dd>
            {{- end}}
        </dl>
        <section>
            <h5>Conditions</h5>
            <dl class="validation">
                {{- range .Conditions}}
                <dt>{{.Type}}</dt>
                <dd>
                    <span class="state">{{icon .State}}</span>
                    {{- if .Description}}
                        <p class="description">{{.Description}}</p>
                    {{- end}}
                </dd>
                {{- end}}
            </dl>
        </section>
        {{- end}}
    </section>
</section>

<section>
    <h3>Primary Cluster: {{.ApplicationStatus.PrimaryCluster.Name}}</h3>
    <p>Primary VRG status will be here.</p>
</section>

<section>
    <h3>Secondary Cluster: {{.ApplicationStatus.SecondaryCluster.Name}}</h3>
    <p>Secondary VRG status will be here.</p>
</section>

<section>
    <h3>S3 Stores</h3>
    {{- with .ApplicationStatus.S3.Profiles}}
    <dl class="validation">
        <dt>Profiles</dt>
        <dd>
            <span class="value">{{len .Value}}</span>
            <span class="state">{{icon .State}}</span>
            {{- if .Description}}
                <p class="description">{{.Description}}</p>
            {{- end}}
        </dd>
    </dl>
    {{- range .Value}}
        <section>
            <h4>{{.Name}}</h4>
            <dl class="validation">
                <dt>Gathered</dt>
                <dd>
                    <span class="value">{{.Gathered.Value}}</span>
                    <span class="state">{{icon .Gathered.State}}</span>
                    {{- if .Gathered.Description}}
                        <p class="description">{{.Gathered.Description}}</p>
                    {{- end}}
                </dd>
            </dl>
        </section>
    {{- end}}
    {{- end}}
</section>
{{- end}}
